openapi: 3.0.0
info:
    title: Restful API (urfu-cart)
    version: 0.7.5
    description: This is an Restful API for interacting with the server

servers:
    - url: http://localhost:5000
      description: Local server
    - url: https://5.35.124.24:5000
      description: Public server

paths:
    /api/auth/confirm:
        get:
            tags:
                - Auth
            summary: Подтверждение пользователя
            description: Подтверждает учетную запись пользователя на основе идентификатора.
            parameters:
                - in: query
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор пользователя.
            responses:
                "200":
                    description: Успешное подтверждение
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Confirmation successful"
                "400":
                    description: Ошибка подтверждения
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Failed to find a user with this id"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/auth/signup:
        post:
            tags:
                - Auth
            summary: Регистрация нового пользователя
            description: Регистрирует нового пользователя на основе email и пароля.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                email:
                                    type: string
                                    format: email
                                    description: Электронная почта пользователя.
                                password:
                                    type: string
                                    format: password
                                    description: Пароль пользователя.
                            required:
                                - email
                                - password
            responses:
                "200":
                    description: Пользователь успешно зарегистрирован
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Уникальный идентификатор пользователя
                                    email:
                                        type: string
                                        format: email
                                        description: Электронная почта пользователя
                                    activated:
                                        type: integer
                                        description: Статус подтверждения пользователя (0 — не активирован, 1 — активирован)
                                        example: 0
                "400":
                    description: Ошибка при регистрации
                    content:
                        application/json:
                            schema:
                                type: string
                            examples:
                                InvalidInput:
                                    summary: Неверные данные
                                    value: "Invalid input"
                                EmailReserved:
                                    summary: Электронная почта уже используется
                                    value: "This email already had been reserved"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/auth/signin:
        post:
            tags:
                - Auth
            summary: Аутентификация пользователя
            description: Аутентифицирует пользователя на основе email и пароля.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                email:
                                    type: string
                                    format: email
                                    description: Электронная почта пользователя
                                password:
                                    type: string
                                    format: password
                                    description: Пароль пользователя
                            required:
                                - email
                                - password
            responses:
                "200":
                    description: Успешная аутентификация
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Authentication successful"
                "400":
                    description: Ошибка аутентификации
                    content:
                        application/json:
                            schema:
                                type: string
                            examples:
                                InvalidInput:
                                    summary: Неверные данные
                                    value: "Invalid input"
                                UserNotFound:
                                    summary: Пользователь не найден
                                    value: "Failed to find this user"
                                UserNotActivated:
                                    summary: Пользователь не активирован
                                    value: "This user is not activated"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/auth/reset:
        get:
            tags:
                - Auth
            summary: Сброс пароля
            description: Сброс пароля учетной записи пользователя
            parameters:
                - in: query
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор пользователя.
            responses:
                "200":
                    description: Успешное подтверждение
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Reset successful"
                "400":
                    description: Ошибка подтверждения
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Failed to find a user with this id"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/goods/{id}:
        get:
            tags:
                - Goods
            summary: Получение товара по ID
            description: Возвращает информацию о товаре на основе его уникального идентификатора.
            parameters:
                - in: path
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор товара.
            responses:
                "200":
                    description: Информация о товаре
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Уникальный идентификатор товара
                                    name:
                                        type: string
                                        description: Название товара
                                    description:
                                        type: string
                                        description: Описание товара
                                    price:
                                        type: number
                                        description: Цена товара
                                    category_id:
                                        type: integer
                                        description: Идентификатор категории товара
                                    photos:
                                        type: array
                                        items:
                                            type: string
                                        description: Массив строк, представляющих имена изображений товара
                                    article:
                                        type: string
                                        description: Артикул товара
                                    discount:
                                        type: integer
                                        description: Скидка на товар
                                    brand:
                                        type: string
                                        description: Бренд
                                    stock:
                                        type: integer
                                        description: Остаток товара (в наличии)
                "400":
                    description: Товар не найден
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Goods not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        patch:
            tags:
                - Goods
            summary: Обновление товара по ID
            description: Обновляет данные существующего товара на основе переданного ID.
            parameters:
                - in: path
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор товара.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                name:
                                    type: string
                                    description: Название товара
                                description:
                                    type: string
                                    description: Описание товара
                                price:
                                    type: number
                                    description: Цена товара
                                category_id:
                                    type: integer
                                    description: Идентификатор категории, к которой принадлежит товар
                                photos:
                                    type: array
                                    items:
                                        type: string
                                    description: Массив строк, представляющих имена изображений товара
                                article:
                                    type: string
                                    description: Артикул товара
                                discount:
                                    type: integer
                                    description: Скидка на товар
                                brand:
                                    type: string
                                    description: Бренд
                                stock:
                                    type: integer
                                    description: Остаток товара (в наличии)
            responses:
                "200":
                    description: Товар успешно обновлен
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Уникальный идентификатор товара
                                    name:
                                        type: string
                                        description: Название товара
                                    description:
                                        type: string
                                        description: Описание товара
                                    price:
                                        type: number
                                        description: Цена товара
                                    category_id:
                                        type: integer
                                        description: Идентификатор категории товара
                                    photos:
                                        type: array
                                        items:
                                            type: string
                                        description: Массив строк, представляющих имена изображений товара
                                    article:
                                        type: string
                                        description: Артикул товара
                                    discount:
                                        type: integer
                                        description: Скидка на товар
                                    brand:
                                        type: string
                                        description: Бренд
                                    stock:
                                        type: integer
                                        description: Остаток товара (в наличии)
                "400":
                    description: Ошибка при обновлении товара
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Goods not found or invalid input"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        delete:
            tags:
                - Goods
            summary: Удаление товара по ID
            description: Удаляет товар на основе его уникального идентификатора.
            parameters:
                - in: path
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор товара.
            responses:
                "200":
                    description: Товар успешно удален
                "400":
                    description: Ошибка при удалении товара
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Goods not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/goods:
        get:
            tags:
                - Goods
            summary: Получение списка всех товаров
            description: Возвращает список всех товаров.
            parameters:
                - name: categoryId
                  in: query
                  required: false
                  description: Уникальный идентификатор категории для фильтрации товаров
                  schema:
                      type: integer
            responses:
                "200":
                    description: Список товаров
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    type: object
                                    properties:
                                        id:
                                            type: integer
                                            description: Уникальный идентификатор товара
                                        name:
                                            type: string
                                            description: Название товара
                                        description:
                                            type: string
                                            description: Описание товара
                                        price:
                                            type: number
                                            description: Цена товара
                                        category_id:
                                            type: integer
                                            description: Идентификатор категории товара
                                        photos:
                                            type: array
                                            items:
                                                type: string
                                            description: Массив строк, представляющих имена изображений товара
                                        article:
                                            type: string
                                            description: Артикул товара
                                        discount:
                                            type: integer
                                            description: Скидка на товар
                                        brand:
                                            type: string
                                            description: Бренд
                                        stock:
                                            type: integer
                                            description: Остаток товара (в наличии)
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        post:
            tags:
                - Goods
            summary: Создание нового товара
            description: Создает новый товар на основе переданных данных.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                name:
                                    type: string
                                    description: Название товара
                                description:
                                    type: string
                                    description: Описание товара
                                price:
                                    type: number
                                    description: Цена товара
                                category_id:
                                    type: integer
                                    description: Идентификатор категории, к которой принадлежит товар
                                photos:
                                    type: array
                                    items:
                                        type: string
                                    description: Массив строк, представляющих имена изображений товара
                                    example: ["photo.png", "photo2.png"]
                                article:
                                    type: string
                                    description: Артикул товара
                                discount:
                                    type: integer
                                    description: Скидка на товар
                                brand:
                                    type: string
                                    description: Бренд
                                stock:
                                    type: integer
                                    description: Остаток товара (в наличии)
                            required:
                                - name
                                - price
                                - category_id
            responses:
                "200":
                    description: Товар успешно создан
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Уникальный идентификатор товара
                                    name:
                                        type: string
                                        description: Название товара
                                    description:
                                        type: string
                                        description: Описание товара
                                    price:
                                        type: number
                                        description: Цена товара
                                    category_id:
                                        type: integer
                                        description: Идентификатор категории товара
                                    photos:
                                        type: array
                                        items:
                                            type: string
                                        description: Массив строк, представляющих имена изображений товара
                                        example: ["photo.png", "photo2.png"]
                                    article:
                                        type: string
                                        description: Артикул товара
                                    discount:
                                        type: integer
                                        description: Скидка на товар
                                    brand:
                                        type: string
                                        description: Бренд
                                    stock:
                                        type: integer
                                        description: Остаток товара (в наличии)
                "400":
                    description: Ошибка при создании товара
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Invalid input"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/good-categories:
        get:
            tags:
                - GoodsCategories
            summary: Получение всех категорий товаров
            description: Возвращает список всех категорий товаров.
            responses:
                "200":
                    description: Список категорий товаров
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    type: object
                                    properties:
                                        id:
                                            type: integer
                                            description: Уникальный идентификатор категории
                                        title:
                                            type: string
                                            description: Название категории
                                        description:
                                            type: string
                                            description: Описание категории
                                        photo:
                                            type: string
                                            description: Имя файла фотографии
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        post:
            tags:
                - GoodsCategories
            summary: Создание новой категории товара
            description: Создает новую категорию товара.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                title:
                                    type: string
                                    description: Название категории товара
                                description:
                                    type: string
                                    description: Описание категории товара
                                parentId:
                                    type: integer
                                    description: Идентификатор родительской категории (если есть).
                                photo:
                                    type: string
                                    description: Имя файла фотографии
                            required:
                                - title
            responses:
                "200":
                    description: Категория успешно создана
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Уникальный идентификатор категории
                                    title:
                                        type: string
                                        description: Название категории
                                    description:
                                        type: string
                                        description: Описание категории
                                    photo:
                                        type: string
                                        description: Имя файла фотографии
                "400":
                    description: Ошибка при создании категории
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Invalid input"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/good-categories/{id}:
        get:
            tags:
                - GoodsCategories
            summary: Получение категории товара по ID
            description: Возвращает информацию о категории товара на основе её уникального идентификатора.
            parameters:
                - in: path
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор категории.
            responses:
                "200":
                    description: Информация о категории товара
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Уникальный идентификатор категории
                                    title:
                                        type: string
                                        description: Название категории
                                    description:
                                        type: string
                                        description: Описание категории
                                    photo:
                                        type: string
                                        description: Имя файла фотографии
                "400":
                    description: Категория не найдена
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Category not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        patch:
            tags:
                - GoodsCategories
            summary: Обновление категории товара
            description: Обновляет информацию о категории товара.
            parameters:
                - in: path
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор категории.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                title:
                                    type: string
                                    description: Название категории товара
                                description:
                                    type: string
                                    description: Описание категории товара
                                parentId:
                                    type: integer
                                    description: Идентификатор родительской категории (если есть).
                                photo:
                                    type: string
                                    description: Имя файла фотографии
                            required:
                                - title
            responses:
                "200":
                    description: Категория успешно обновлена
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Уникальный идентификатор категории
                                    title:
                                        type: string
                                        description: Название категории
                                    description:
                                        type: string
                                        description: Описание категории
                                    photo:
                                        type: string
                                        description: Имя файла фотографии
                "400":
                    description: Ошибка при обновлении категории
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Category not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        delete:
            tags:
                - GoodsCategories
            summary: Удаление категории товара
            description: Удаляет категорию товара по уникальному идентификатору.
            parameters:
                - in: path
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор категории товара.
            responses:
                "200":
                    description: Категория успешно удалена
                "400":
                    description: Категория не найдена
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Category not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/file/upload:
        post:
            tags:
                - File
            summary: Загрузка файла
            description: Загружает файл в хранилище.
            requestBody:
                required: true
                content:
                    multipart/form-data:
                        schema:
                            type: object
                            properties:
                                file:
                                    type: string
                                    format: binary
                                    description: Файл для загрузки.
            responses:
                "200":
                    description: Файл успешно загружен
                    content:
                        application/json:
                            schema:
                                type: string
                                description: Имя созданного файла
                                example: "uuid-image.png"
                "400":
                    description: Ошибка при загрузке файла
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "The file wasn't uploaded"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/file/{fileName}:
        get:
            tags:
                - File
            summary: Получение временной ссылки для файла
            description: Возвращает временную ссылку на файл в хранилище.
            parameters:
                - in: path
                  name: fileName
                  required: true
                  schema:
                      type: string
                  description: Имя файла в хранилище.
                  example: "example-file.png"
            responses:
                "200":
                    description: Успешное получение ссылки на файл
                    content:
                        application/json:
                            schema:
                                type: string
                                description: Временная ссылка для доступа к файлу.
                                example: "https://server/file/image-link.png"
                "400":
                    description: Ошибка при получении файла
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Failed to get the file"
                "404":
                    description: Файл не найден
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "File not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"

        delete:
            tags:
                - File
            summary: Удаление файла
            description: Удаляет файл из хранилища.
            parameters:
                - in: path
                  name: fileName
                  required: true
                  schema:
                      type: string
                  description: Имя файла для удаления.
                  example: "example-file.png"
            responses:
                "200":
                    description: Файл успешно удален
                "400":
                    description: Ошибка при удалении файла
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Failed to delete the file"
                "404":
                    description: Файл не найден
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "File not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/users/{id}:
        get:
            tags:
                - User
            summary: Получение пользователя по ID
            description: Возвращает информацию о пользователе по его уникальному идентификатору.
            parameters:
                - in: path
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор пользователя.
            responses:
                "200":
                    description: Информация о пользователе
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Уникальный идентификатор пользователя
                                    name:
                                        type: string
                                        description: Имя пользователя
                                    email:
                                        type: string
                                        description: Электронная почта пользователя
                                    activated:
                                        type: integer
                                        description: Статус активации пользователя
                "400":
                    description: Пользователь не найден
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "User not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        patch:
            tags:
                - User
            summary: Обновление пользователя по ID
            description: Обновляет информацию о пользователе на основе переданного ID.
            parameters:
                - in: path
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор пользователя.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                name:
                                    type: string
                                    description: Имя пользователя
                                email:
                                    type: string
                                    description: Электронная почта пользователя
                                password:
                                    type: string
                                    description: Новый пароль пользователя
                                activated:
                                    type: integer
                                    description: Статус активации пользователя
            responses:
                "200":
                    description: Пользователь успешно обновлен
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Уникальный идентификатор пользователя
                                    name:
                                        type: string
                                        description: Имя пользователя
                                    email:
                                        type: string
                                        description: Электронная почта пользователя
                                    activated:
                                        type: integer
                                        description: Статус активации пользователя
                "400":
                    description: Ошибка при обновлении пользователя
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "User not found or invalid input"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        delete:
            tags:
                - User
            summary: Удаление пользователя по ID
            description: Удаляет пользователя на основе его уникального идентификатора.
            parameters:
                - in: path
                  name: id
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор пользователя.
            responses:
                "200":
                    description: Пользователь успешно удален
                "400":
                    description: Ошибка при удалении пользователя
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "User not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/users:
        get:
            tags:
                - User
            summary: Получение списка всех пользователей
            description: Возвращает список всех пользователей.
            responses:
                "200":
                    description: Список пользователей
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    type: object
                                    properties:
                                        id:
                                            type: integer
                                            description: Уникальный идентификатор пользователя
                                        name:
                                            type: string
                                            description: Имя пользователя
                                        email:
                                            type: string
                                            description: Электронная почта пользователя
                                        activated:
                                            type: integer
                                            description: Статус активации пользователя
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        post:
            tags:
                - User
            summary: Создание нового пользователя
            description: Создает нового пользователя на основе переданных данных.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                name:
                                    type: string
                                    description: Имя пользователя
                                email:
                                    type: string
                                    description: Электронная почта пользователя
                                password:
                                    type: string
                                    description: Пароль пользователя
                            required:
                                - email
                                - password
            responses:
                "200":
                    description: Пользователь успешно создан
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: integer
                                        description: Уникальный идентификатор пользователя
                                    name:
                                        type: string
                                        description: Имя пользователя
                                    email:
                                        type: string
                                        description: Электронная почта пользователя
                                    activated:
                                        type: integer
                                        description: Статус активации пользователя
                "400":
                    description: Ошибка при создании пользователя
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Invalid input"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/cart/{userId}:
        get:
            tags:
                - Cart
            summary: Получение корзины пользователя по ID
            description: Возвращает информацию о корзине пользователя на основе его уникального идентификатора.
            parameters:
                - in: path
                  name: userId
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор пользователя.
            responses:
                "200":
                    description: Информация о корзине
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    user_id:
                                        type: integer
                                        description: Уникальный идентификатор пользователя
                                    items:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                id:
                                                    type: integer
                                                    description: Уникальный идентификатор элемента корзины
                                                cart_id:
                                                    type: integer
                                                    description: Идентификатор корзины
                                                goods_id:
                                                    type: integer
                                                    description: Идентификатор товара
                                                count:
                                                    type: integer
                                                    description: Количество товара в корзине
                                                selected:
                                                    type: boolean
                                                    description: Статус выбора товара
                "400":
                    description: Корзина не найдена
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Cart not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        post:
            tags:
                - Cart
            summary: Добавление товара в корзину
            description: Добавляет новый товар в корзину пользователя.
            parameters:
                - in: path
                  name: userId
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор пользователя.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                goodsId:
                                    type: integer
                                    description: Уникальный идентификатор товара
                                count:
                                    type: integer
                                    description: Количество товара для добавления
                                selected:
                                    type: boolean
                                    description: Статус выбора товара
                            required:
                                - goodsId
                                - count
            responses:
                "200":
                    description: Товар успешно добавлен в корзину
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    user_id:
                                        type: integer
                                        description: Уникальный идентификатор пользователя
                                    items:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                id:
                                                    type: integer
                                                    description: Уникальный идентификатор элемента корзины
                                                cart_id:
                                                    type: integer
                                                    description: Идентификатор корзины
                                                goods_id:
                                                    type: integer
                                                    description: Идентификатор товара
                                                count:
                                                    type: integer
                                                    description: Количество товара в корзине
                                                selected:
                                                    type: boolean
                                                    description: Статус выбора товара
                "400":
                    description: Ошибка при добавлении товара
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Invalid input"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/cart/{userId}/{goodsId}:
        patch:
            tags:
                - Cart
            summary: Обновление товара в корзине
            description: Обновляет данные о товаре в корзине пользователя на основе переданного ID товара.
            parameters:
                - in: path
                  name: userId
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор пользователя.
                - in: path
                  name: goodsId
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор товара.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                count:
                                    type: integer
                                    description: Обновленное количество товара в корзине
                                selected:
                                    type: boolean
                                    description: Обновленный статус выбора товара
            responses:
                "200":
                    description: Товар успешно обновлен в корзине
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    user_id:
                                        type: integer
                                        description: Уникальный идентификатор пользователя
                                    items:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                id:
                                                    type: integer
                                                    description: Уникальный идентификатор элемента корзины
                                                cart_id:
                                                    type: integer
                                                    description: Идентификатор корзины
                                                goods_id:
                                                    type: integer
                                                    description: Идентификатор товара
                                                count:
                                                    type: integer
                                                    description: Количество товара в корзине
                                                selected:
                                                    type: boolean
                                                    description: Статус выбора товара
                "400":
                    description: Ошибка при обновлении товара
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Item not found or invalid input"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        delete:
            tags:
                - Cart
            summary: Удаление товара из корзины
            description: Удаляет товар из корзины пользователя по его уникальному идентификатору товара.
            parameters:
                - in: path
                  name: userId
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор пользователя.
                - in: path
                  name: goodsId
                  required: true
                  schema:
                      type: integer
                  description: Уникальный идентификатор товара.
            responses:
                "200":
                    description: Товар успешно удален из корзины
                "400":
                    description: Ошибка при удалении товара
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Item not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
    /api/metrics/{goodsId}:
        get:
            tags:
                - Metrics
            summary: Получение метрик товара по идентификатору товара
            description: Возвращает метрики для указанного товара.
            parameters:
                - name: goodsId
                  in: path
                  required: true
                  description: Уникальный идентификатор товара, для которого нужно получить метрики
                  schema:
                      type: integer
            responses:
                "200":
                    description: Метрики товара
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    goods_id:
                                        type: integer
                                        description: Уникальный идентификатор товара
                                    views:
                                        type: integer
                                        description: Количество просмотров товара
                                    add_to_cart_count:
                                        type: integer
                                        description: Количество добавлений товара в корзину
                                    order_count:
                                        type: integer
                                        description: Количество заказов товара
                "404":
                    description: Метрики не найдены
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Metrics not found"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        post:
            tags:
                - Metrics
            summary: Создание метрик для товара
            description: Создает новые метрики для указанного товара с идентификатором goodsId.
            parameters:
                - name: goodsId
                  in: path
                  required: true
                  description: Уникальный идентификатор товара, для которого нужно получить метрики
                  schema:
                      type: integer
            responses:
                "201":
                    description: Метрики успешно созданы
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    goods_id:
                                        type: integer
                                        description: Уникальный идентификатор товара
                                    views:
                                        type: integer
                                        description: Количество просмотров товара
                                    add_to_cart_count:
                                        type: integer
                                        description: Количество добавлений товара в корзину
                                    order_count:
                                        type: integer
                                        description: Количество заказов товара
                "400":
                    description: Ошибка при создании метрик
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Invalid input"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"
        patch:
            tags:
                - Metrics
            summary: Обновление метрик товара
            description: Обновляет метрики для указанного товара с идентификатором goodsId.
            parameters:
                - name: goodsId
                  in: path
                  required: true
                  description: Уникальный идентификатор товара, для которого нужно обновить метрики
                  schema:
                      type: integer
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                views:
                                    type: integer
                                    description: Новое количество просмотров товара
                                addToCartCount:
                                    type: integer
                                    description: Новое количество добавлений товара в корзину
                                orderCount:
                                    type: integer
                                    description: Новое количество заказов товара
                            required:
                                - views
                                - addToCartCount
                                - orderCount
            responses:
                "200":
                    description: Метрики успешно обновлены
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    goods_id:
                                        type: integer
                                        description: Уникальный идентификатор товара
                                    views:
                                        type: integer
                                        description: Количество просмотров товара
                                    add_to_cart_count:
                                        type: integer
                                        description: Количество добавлений товара в корзину
                                    order_count:
                                        type: integer
                                        description: Количество заказов товара
                "404":
                    description: Метрики не найдены
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Metrics not found"
                "400":
                    description: Ошибка при обновлении метрик
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Invalid input"
                "500":
                    description: Внутренняя ошибка сервера
                    content:
                        application/json:
                            schema:
                                type: string
                                example: "Internal server error"

tags:
    - name: Auth
      description: Методы для работы с авторизацией и регистрацией.
    - name: GoodsCategories
      description: Методы для работы с категориями товаров.
    - name: Goods
      description: Методы для работы с товаром.
    - name: User
      description: Методы для работы с профилем пользователя.
    - name: Cart
      description: Методы для работы с корзиной.
    - name: File
      description: Методы для работы с файлами.
    - name: Metrics
      description: Методы для работы с метрикой.
